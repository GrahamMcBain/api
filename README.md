## api.moov.io

[![Build Status](https://travis-ci.com/moov-io/api.svg?branch=master)](https://travis-ci.com/moov-io/api)
[![Apache 2 licensed](https://img.shields.io/badge/license-Apache2-blue.svg)](https://raw.githubusercontent.com/moov-io/api/master/LICENSE)

This repository holds our [`api.moov.io`](https://api.moov.io) website, which is our API documentation.

Documentation is markdown generated by [ReDoc](https://github.com/Rebilly/ReDoc). View source on the [Swagger Editor](https://editor.swagger.io/?url=https://raw.githubusercontent.com/moov-io/api/master/openapi.yaml).

## Getting Started / Install

1. Clone the repository somewhere (`git clone git@github.com:moov-io/api.git`)
1. Edit the files to make your change (i.e. `openpai.yaml`)
1. Run `make` to generate a docker image with your changes
   1. Verify your changes by running locally with `make serve`
      - Load [localhost:8080](http://localhost:8080) in a web browser
1. Commit your changes, push up a new branch, and create a Pull Request!

## API Requirements

- Every endpoint MUST support `X-Request-Id`.
- Every POST, PUT, and PATCH endpoint MUST support `X-Idempotency-Key`.
- Authenticated requests (outside OAuth and Users) MUST accept both OAuth and User auth.
   - Some OAuth and User operations require their speciifc auth (or the other form to bootstrap).
- All 4xx errors MUST include an error message for the user.

### moov/apitest

`apitest` is the name for a tool we write to test out API endpoints. Largely this tool is for checking our business logic paths work together (i.e. create a transfer).

To use this tool either grab it locally (`go get github.com/moov-io/api/cmd/apitest`) or use our docker image `moov/apitest:latest`.

```
$ docker run moov/apitest:v0.3.0
2018/12/01 00:20:05.186164 main.go:43: Starting apitest v0.3.0
2018/12/01 00:20:05.186215 main.go:58: Using https://api.moov.io as base API address
2018/12/01 00:20:05.186237 main.go:80: Using X-Request-ID: d09b50e0690983876f47e4b6e6332edac4fef5d6
2018/12/01 00:20:06.023612 main.go:168: ACH PONG
2018/12/01 00:20:06.424823 main.go:178: auth PONG
2018/12/01 00:20:06.942562 main.go:188: paygate PONG
2018/12/01 00:20:09.304842 main.go:94: Created user a84042e7a35a1cf0609da9a0bd6693938fe21b02 (email: thirsty.lamport34@example.com)
2018/12/01 00:20:09.592519 main.go:103: Cookie works for user a84042e7a35a1cf0609da9a0bd6693938fe21b02
2018/12/01 00:20:10.625706 main.go:111: Created Originator Depository (id=db7a52b71efe9798a0edfcbf8dff78fb056814a5) for user
2018/12/01 00:20:10.989580 main.go:118: Created Originator (id=63cb96ca09ca0b8413959f8bd46b1851151e9427) for user
2018/12/01 00:20:11.990902 main.go:126: Created Customer Depository (id=0f0d3b4e092fc15e46f6696400b130382c5f7134) for user
2018/12/01 00:20:12.271781 main.go:133: Created Customer (id=2277c6362e87965847c8ec66d0743f348f1121f2) for user
2018/12/01 00:20:12.631427 main.go:140: Created USD 219.51 transfer (id=42b697aef4f48663cbe0ff6e6b11b8761e189fe2) for user
```

## Getting Help

 channel | info
 ------- | -------
 Google Group [moov-users](https://groups.google.com/forum/#!forum/moov-users)| The Moov users Google group is for contributors other people contributing to the Moov project. You can join them without a google account by sending an email to [moov-users+subscribe@googlegroups.com](mailto:moov-users+subscribe@googlegroups.com). After receiving the join-request message, you can simply reply to that to confirm the subscription.
Twitter [@moov_io](https://twitter.com/moov_io)	| You can follow Moov.IO's Twitter feed to get updates on our project(s). You can also tweet us questions or just share blogs or stories.
[GitHub Issue](https://github.com/moov-io) | If you are able to reproduce an problem please open a GitHub Issue under the specific project that caused the error.
[moov-io slack](http://moov-io.slack.com/) | Join our slack channel to have an interactive discussion about the development of the project. [Request an invite to the slack channel](https://join.slack.com/t/moov-io/shared_invite/enQtNDE5NzIwNTYxODEwLTRkYTcyZDI5ZTlkZWRjMzlhMWVhMGZlOTZiOTk4MmM3MmRhZDY4OTJiMDVjOTE2MGEyNWYzYzY1MGMyMThiZjg)

## Contributing

Yes please! Please start by reviewing our [Code of Conduct](https://github.com/moov-io/ach/blob/master/CODE_OF_CONDUCT.md).

You only have a fresh set of eyes once! The easiest way to contribute is to give feedback on the documentation that you are reading right now. This can be as simple as sending a message to our Google Group with your feedback or updating the markdown in this documentation and issuing a pull request.

- [moov.io](https://moov.io/)
- [api.moov.io](https://api.moov.io/) (This project)
- [docs.moov.io](https://docs.moov.io/)

## License

Apache License 2.0 See [LICENSE](LICENSE) for details.
